{"version":17,"variables":[{"key":"nodepool","type":"query","visible":true,"input":"timeseries sum(karpenter_pods_state), by: { nodepool }\n| fieldsAdd `sum(karpenter_pods_state)` = arraySize(`sum(karpenter_pods_state)`)\n| fields nodepool","multiple":false},{"key":"zone","type":"query","visible":true,"input":"timeseries sum(karpenter_pods_state), by: { zone }\n| fieldsAdd `sum(karpenter_pods_state)` = arraySize(`sum(karpenter_pods_state)`)\n| fields zone","multiple":false}],"tiles":{"0":{"type":"data","title":"Cpu requested in Nodepool","query":"timeseries avg(karpenter_nodes_total_pod_requests), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"cpu\") }\n| fieldsAdd karpenter_nodes_total_pod_requests = \"avg(karpenter_nodes_total_pod_requests)\"\n| fieldsAdd `avg(karpenter_nodes_total_pod_requests)` = arrayLast(`avg(karpenter_nodes_total_pod_requests)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = cpu ","datatype":"metrics","metric":{"key":"karpenter_nodes_total_pod_requests","aggregation":"avg"},"by":[],"convertToValue":"Last"}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_total_pod_requests"],"valueAxis":["avg(karpenter_nodes_total_pod_requests)"],"categoryAxisLabel":"karpenter_nodes_total_pod_requests","valueAxisLabel":"avg(karpenter_nodes_total_pod_requests)","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["interval"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"cpu requested","prefixIcon":"","recordField":"avg(karpenter_nodes_total_pod_requests)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_total_pod_requests"],"dataMappings":{"value":"avg(karpenter_nodes_total_pod_requests)"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"avg(karpenter_nodes_total_pod_requests)","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_total_pod_requests"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"1":{"type":"data","title":"Memory requested in NodePool","query":"timeseries avg(karpenter_nodes_total_pod_requests), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"memory\") }\n| fieldsAdd karpenter_nodes_total_pod_requests = \"avg(karpenter_nodes_total_pod_requests)\"\n| fieldsAdd `avg(karpenter_nodes_total_pod_requests)` = arrayLast(`avg(karpenter_nodes_total_pod_requests)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = memory  ","datatype":"metrics","metric":{"key":"karpenter_nodes_total_pod_requests","aggregation":"avg"},"by":[],"convertToValue":"Last"}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_total_pod_requests"],"valueAxis":["avg(karpenter_nodes_total_pod_requests)"],"categoryAxisLabel":"karpenter_nodes_total_pod_requests","valueAxisLabel":"avg(karpenter_nodes_total_pod_requests)","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["interval"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"Memory requested","prefixIcon":"","recordField":"avg(karpenter_nodes_total_pod_requests)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_total_pod_requests"],"dataMappings":{"value":"avg(karpenter_nodes_total_pod_requests)"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"avg(karpenter_nodes_total_pod_requests)","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_total_pod_requests"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"2":{"type":"data","title":"Number of pods requested in NodePool","query":"timeseries avg(karpenter_nodes_total_pod_requests), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"pods\") }\n| fieldsAdd karpenter_nodes_total_pod_requests = \"avg(karpenter_nodes_total_pod_requests)\"\n| fieldsAdd `avg(karpenter_nodes_total_pod_requests)` = arrayLast(`avg(karpenter_nodes_total_pod_requests)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = pods ","datatype":"metrics","metric":{"key":"karpenter_nodes_total_pod_requests","aggregation":"avg"},"by":[],"convertToValue":"Last"}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_total_pod_requests"],"valueAxis":["avg(karpenter_nodes_total_pod_requests)"],"categoryAxisLabel":"karpenter_nodes_total_pod_requests","valueAxisLabel":"avg(karpenter_nodes_total_pod_requests)","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["interval"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":false,"label":"number of pods","prefixIcon":"","recordField":"avg(karpenter_nodes_total_pod_requests)","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_total_pod_requests"],"dataMappings":{"value":"avg(karpenter_nodes_total_pod_requests)"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"avg(karpenter_nodes_total_pod_requests)","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_total_pod_requests"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"4":{"type":"data","title":"percentage resource requested in the NodePool","query":"timeseries sum(karpenter_nodes_total_pod_requests), filter: { matchesValue(resource_type, \"cpu\") AND matchesValue(nodepool, $nodepool) }\n| fieldsAdd karpenter_nodes_total_pod_requests = \"sum(karpenter_nodes_total_pod_requests)\"\n| fieldsAdd value.A = arrayAvg(`sum(karpenter_nodes_total_pod_requests)`)\n| join [\n    timeseries sum(karpenter_nodes_allocatable),\n    filter: { matchesValue(resource_type, \"cpu\") AND matchesValue(nodepool, $nodepool) }\n    | fieldsAdd karpenter_nodes_allocatable = \"sum(karpenter_nodes_allocatable)\"\n    | fieldsAdd value.B = arrayAvg(`sum(karpenter_nodes_allocatable)`)\n  ], on: { interval }, fields: { `sum(karpenter_nodes_allocatable)`, value.B }\n| fieldsAdd C = (`sum(karpenter_nodes_total_pod_requests)`[]/`sum(karpenter_nodes_allocatable)`[])*100","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"filter":"resource_type = cpu nodepool = $nodepool","datatype":"metrics","metric":{"key":"karpenter_nodes_total_pod_requests","aggregation":"sum"}},{"id":"B","isEnabled":true,"filter":"resource_type = cpu nodepool = $nodepool ","datatype":"metrics","metric":{"key":"karpenter_nodes_allocatable","aggregation":"sum"}},{"id":"C","isEnabled":true,"datatype":"expression","expression":"(A/B)*100"}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_total_pod_requests"],"valueAxis":["value.A","value.B"],"categoryAxisLabel":"karpenter_nodes_total_pod_requests","valueAxisLabel":"value.A,value.B","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(karpenter_nodes_total_pod_requests)","sum(karpenter_nodes_allocatable)","C"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{},"bandChartSettings":{"lower":"sum(karpenter_nodes_total_pod_requests)","upper":"sum(karpenter_nodes_allocatable)","line":"C","time":"timeframe"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(karpenter_nodes_total_pod_requests)","sum(karpenter_nodes_allocatable)","C"],"value":"sparkline","id":1733162045652}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_total_pod_requests"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"value.B","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_total_pod_requests"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"percentage resource requested in the NodePool","query":"timeseries sum(karpenter_nodes_total_pod_requests), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"memory\") }\n| fieldsAdd karpenter_nodes_total_pod_requests = \"sum(karpenter_nodes_total_pod_requests)\"\n| fieldsAdd value.A = arrayAvg(`sum(karpenter_nodes_total_pod_requests)`)\n| join [\n    timeseries sum(karpenter_nodes_allocatable),\n    filter: { matchesValue(resource_type, \"memory\") AND matchesValue(nodepool, $nodepool) }\n    | fieldsAdd karpenter_nodes_allocatable = \"sum(karpenter_nodes_allocatable)\"\n    | fieldsAdd value.B = arrayAvg(`sum(karpenter_nodes_allocatable)`)\n  ], on: { interval }, fields: { `sum(karpenter_nodes_allocatable)`, value.B }\n| fieldsAdd C = (`sum(karpenter_nodes_total_pod_requests)`[]/`sum(karpenter_nodes_allocatable)`[])*100","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"filter":"nodepool = $nodepool resource_type = memory ","datatype":"metrics","metric":{"key":"karpenter_nodes_total_pod_requests","aggregation":"sum"}},{"id":"B","isEnabled":true,"filter":"resource_type = memory nodepool = $nodepool ","datatype":"metrics","metric":{"key":"karpenter_nodes_allocatable","aggregation":"sum"}},{"id":"C","isEnabled":true,"datatype":"expression","expression":"(A/B)*100"}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_total_pod_requests"],"valueAxis":["value.A","value.B"],"categoryAxisLabel":"karpenter_nodes_total_pod_requests","valueAxisLabel":"value.A,value.B","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(karpenter_nodes_total_pod_requests)","sum(karpenter_nodes_allocatable)","C"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{},"bandChartSettings":{"lower":"sum(karpenter_nodes_total_pod_requests)","upper":"sum(karpenter_nodes_allocatable)","line":"C","time":"timeframe"}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(karpenter_nodes_total_pod_requests)","sum(karpenter_nodes_allocatable)","C"],"value":"sparkline","id":1733162045694}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_total_pod_requests"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"value.B","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_total_pod_requests"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"6":{"type":"markdown","title":"","content":"**resource usage**"},"7":{"type":"markdown","title":"","content":"**node activity**"},"8":{"type":"markdown","title":"","content":" **System Overhead**"},"9":{"type":"data","title":"Node created per seconds","query":"timeseries avg(karpenter_nodes_created_total), filter: { matchesValue(nodepool, $nodepool) }\n| fieldsAdd karpenter_nodes_created_total = \"avg(karpenter_nodes_created_total)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodes_created_total)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool ","datatype":"metrics","metric":{"key":"karpenter_nodes_created_total","aggregation":"avg"},"by":[]}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_created_total"],"valueAxis":["value.A"],"categoryAxisLabel":"karpenter_nodes_created_total","valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodes_created_total)"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"error","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodes_created_total)"],"value":"sparkline","id":1733162052899}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_created_total"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_created_total"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"Nodepool memory usage","query":"timeseries avg(karpenter_nodepools_usage), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"memory\") }\n| fieldsAdd karpenter_nodepools_usage = \"avg(karpenter_nodepools_usage)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodepools_usage)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool =  $nodepool  resource_type = memory  ","datatype":"metrics","metric":{"key":"karpenter_nodepools_usage","aggregation":"avg"},"by":[]}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodepools_usage"],"valueAxis":["value.A"],"categoryAxisLabel":"karpenter_nodepools_usage","valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodepools_usage)"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"Memory","prefixIcon":"","recordField":"value.A","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodepools_usage)"],"value":"sparkline","id":1733162045616}]},"honeycomb":{"shape":"hexagon","min":null,"max":null,"legend":{"hidden":false,"position":"bottom"},"displayedFields":["karpenter_nodepools_usage"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodepools_usage"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"","query":"timeseries avg(karpenter_nodepools_allowed_disruptions), filter: { matchesValue(nodepool, $nodepool) }\n| fieldsAdd karpenter_nodepools_allowed_disruptions = \"avg(karpenter_nodepools_allowed_disruptions)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodepools_allowed_disruptions)`)","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"filter":"nodepool = $nodepool ","datatype":"metrics","metric":{"key":"karpenter_nodepools_allowed_disruptions","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodepools_allowed_disruptions"],"valueAxis":["value.A"],"categoryAxisLabel":"karpenter_nodepools_allowed_disruptions","valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodepools_allowed_disruptions)"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"allowed disruptions","prefixIcon":"","recordField":"value.A","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodepools_allowed_disruptions)"],"value":"sparkline","id":1733162045631}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodepools_allowed_disruptions"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodepools_allowed_disruptions"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"14":{"type":"data","title":"Nodepool cpu usage","query":"timeseries avg(karpenter_nodepools_usage), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"cpu\") }\n| fieldsAdd karpenter_nodepools_usage = \"avg(karpenter_nodepools_usage)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodepools_usage)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool =  $nodepool  resource_type = cpu ","datatype":"metrics","metric":{"key":"karpenter_nodepools_usage","aggregation":"avg"},"by":[]}]},"subType":"dql-builder-metrics","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodepools_usage"],"valueAxis":["value.A"],"categoryAxisLabel":"karpenter_nodepools_usage","valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodepools_usage)"]},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"cpu","prefixIcon":"","recordField":"value.A","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodepools_usage)"],"value":"sparkline","id":1733162045781}]},"honeycomb":{"shape":"hexagon","min":null,"max":null,"legend":{"hidden":false,"position":"bottom"},"displayedFields":["karpenter_nodepools_usage"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodepools_usage"]},"autoSelectVisualization":false},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"19":{"type":"data","title":"Node terminated /s","query":"timeseries avg(karpenter_nodes_terminated_total, rate: 1s), filter: { matchesValue(nodepool, $nodepool) }\n| fieldsAdd karpenter_nodes_terminated_total = \"avg(karpenter_nodes_terminated_total, rate:1s)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodes_terminated_total, rate:1s)`)","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"filter":"nodepool = $nodepool ","datatype":"metrics","metric":{"key":"karpenter_nodes_terminated_total","aggregation":"avg"},"rate":"1s"}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxisLabel":"karpenter_nodes_terminated_total","valueAxisLabel":"value.A","tooltipVariant":"single","categoryAxis":["karpenter_nodes_terminated_total"],"valueAxis":["value.A"]},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"leftYAxisSettings":{},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodes_terminated_total, rate:1s)"]}},"singleValue":{"showLabel":true,"label":"karpenter_scheduler_queue_depth","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value","recordField":"karpenter_scheduler_queue_depth","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodes_terminated_total, rate:1s)"],"value":"sparkline","id":1733216760460}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_terminated_total"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_terminated_total"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"20":{"type":"data","title":"Cpu System overhead","query":"timeseries avg(karpenter_nodes_system_overhead), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"cpu\") }\n| fieldsAdd karpenter_nodes_system_overhead = \"avg(karpenter_nodes_system_overhead)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodes_system_overhead)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = cpu ","datatype":"metrics","metric":{"key":"karpenter_nodes_system_overhead","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_system_overhead"],"categoryAxisLabel":"karpenter_nodes_system_overhead","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodes_system_overhead)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"karpenter_nodes_system_overhead","prefixIcon":"","recordField":"karpenter_nodes_system_overhead","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodes_system_overhead)"],"value":"sparkline","id":1733219402984}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_system_overhead"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_system_overhead"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"21":{"type":"data","title":"Memory System overhead","query":"timeseries avg(karpenter_nodes_system_overhead), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"memory\") }\n| fieldsAdd karpenter_nodes_system_overhead = \"avg(karpenter_nodes_system_overhead)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodes_system_overhead)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = memory  ","datatype":"metrics","metric":{"key":"karpenter_nodes_system_overhead","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_system_overhead"],"categoryAxisLabel":"karpenter_nodes_system_overhead","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodes_system_overhead)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"karpenter_nodes_system_overhead","prefixIcon":"","recordField":"karpenter_nodes_system_overhead","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodes_system_overhead)"],"value":"sparkline","id":1733219402984}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_system_overhead"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_system_overhead"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"22":{"type":"data","title":"Ephemeral Storage System overhead","query":"timeseries avg(karpenter_nodes_system_overhead), filter: { matchesValue(nodepool, $nodepool) AND matchesValue(resource_type, \"ephemeral_storage\") }\n| fieldsAdd karpenter_nodes_system_overhead = \"avg(karpenter_nodes_system_overhead)\"\n| fieldsAdd value.A = arrayAvg(`avg(karpenter_nodes_system_overhead)`)\n| limit 20","queryConfig":{"version":"11.6.0","subQueries":[{"id":"A","isEnabled":true,"limit":20,"filter":"nodepool = $nodepool resource_type = ephemeral_storage    ","datatype":"metrics","metric":{"key":"karpenter_nodes_system_overhead","aggregation":"avg"}}]},"subType":"dql-builder-metrics","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["karpenter_nodes_system_overhead"],"categoryAxisLabel":"karpenter_nodes_system_overhead","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(karpenter_nodes_system_overhead)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"karpenter_nodes_system_overhead","prefixIcon":"","recordField":"karpenter_nodes_system_overhead","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(karpenter_nodes_system_overhead)"],"value":"sparkline","id":1733219402984}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"displayedFields":["karpenter_nodes_system_overhead"],"dataMappings":{"value":"value.A"},"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"value.A","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["karpenter_nodes_system_overhead"]},"autoSelectVisualization":true},"davis":{},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":0,"y":0,"w":4,"h":4},"1":{"x":4,"y":0,"w":4,"h":4},"2":{"x":8,"y":0,"w":3,"h":8},"4":{"x":0,"y":9,"w":12,"h":6},"5":{"x":12,"y":9,"w":12,"h":6},"6":{"x":0,"y":8,"w":24,"h":1},"7":{"x":0,"y":15,"w":24,"h":1},"8":{"x":0,"y":21,"w":24,"h":1},"9":{"x":0,"y":16,"w":12,"h":5},"11":{"x":4,"y":4,"w":4,"h":4},"12":{"x":11,"y":0,"w":5,"h":8},"14":{"x":0,"y":4,"w":4,"h":4},"19":{"x":12,"y":16,"w":12,"h":5},"20":{"x":0,"y":22,"w":8,"h":5},"21":{"x":8,"y":22,"w":8,"h":5},"22":{"x":16,"y":22,"w":8,"h":5}},"importedWithCode":false,"settings":{}}